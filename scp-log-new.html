<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>観測ログ入力 - QOL省 内部</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:#eef2f6;
  color:#222;
}

header{
  background:#1a5aa5;
  color:#fff;
  padding:12px 16px;
  font-weight:700;
}

.wrap{
  max-width:720px;
  margin:24px auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
  box-shadow:0 8px 30px rgba(0,0,0,.08);
}

label{
  font-size:13px;
  color:#666;
  display:block;
  margin:12px 0 6px;
}

input, select, textarea{
  width:100%;
  padding:10px;
  border:1px solid #cfd6df;
  border-radius:6px;
  font-size:14px;
  box-sizing:border-box;
}

textarea{
  min-height:120px;
  resize:vertical;
}

button{
  margin-top:16px;
  padding:10px 18px;
  background:#1a5aa5;
  color:white;
  border:none;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}

button:hover{
  opacity:.9;
}

.note{
  font-size:12px;
  color:#888;
  margin-top:12px;
}
</style>
</head>

<body>

<header>
QOL省 内部ポータル ＞ SCP観測ログ入力
</header>

<div class="wrap">

<h2>観測ログ提出フォーム</h2>

<label>SCP ID</label>
<select id="scpId">
  <option>SCP-000-NK（ぬくりば現象）</option>
  <option>SCP-001-NK（そこにいるペンギン）</option>
  <option>SCP-002-NK（寝息）</option>
  <option>SCP-003-NK（尻尾）</option>
  <option>SCP-004-NK（どんぐり）</option>
  <option>その他（未登録）</option>
</select>

<label>観測日時</label>
<input type="datetime-local" id="observedAt">

<label>観測場所</label>
<input placeholder="例：こたつの間 / カウンター横 / 屋根裏付近" id="place">

<label>ぬく度（体感）</label>
<select id="nuku">
  <option>1 ほぼ変化なし</option>
  <option>2 ちょっとゆるむ</option>
  <option>3 まあまあぬくい</option>
  <option>4 かなりぬくい</option>
  <option>5 仕事がどうでもよくなる</option>
</select>

<label>状態</label>
<select id="state">
  <option>観測のみ</option>
  <option>見守り中</option>
  <option>お茶を飲んだ</option>
  <option>そっとしておいた</option>
  <option>一緒にぬくった</option>
</select>

<label>詳細メモ</label>
<textarea placeholder="例：
・ペンギンがぬっ…ぬっ…と歩行
・どんぐり1個落下
・会議が自然消滅
など自由記述" id="memo"></textarea>

<button class="btn primary" type="button" onclick="saveLog()">
提出する
</button>

<div class="note">
※ 危険性のある現象は本フォームの対象外です。  
※ ぬくいもののみ記録してください。
</div>

</div>

<script>
const KEY = "qol_scp_logs_v1";

function loadLogs(){
  try { return JSON.parse(localStorage.getItem(KEY) || "[]"); }
  catch { return []; }
}
function saveLogs(logs){
  localStorage.setItem(KEY, JSON.stringify(logs));
}

function saveLog(){
  const scpId = document.getElementById("scpId").value;
  const observedAt = document.getElementById("observedAt").value;
  const place = document.getElementById("place").value.trim();
  const nuku = document.getElementById("nuku").value;
  const state = document.getElementById("state").value;
  const memo = document.getElementById("memo").value.trim();

  const logs = loadLogs();
  logs.push({
    id: "LOG-" + Date.now(),
    createdAt: new Date().toISOString(),
    scpId,
    observedAt: observedAt ? new Date(observedAt).toISOString() : "",
    place,
    nuku,
    state,
    memo
  });
  saveLogs(logs);

  // それっぽい通知
  alert("送信しました。\n（ログ一覧に反映されました）");

  // 一覧へ
  location.href = "scp-log-list.html";
}
</script>

</body>
</html>